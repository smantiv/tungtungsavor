<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pedido - TungTung Savor</title>
  <link rel="stylesheet" href="../css/styles.css">
</head>

<body>

<nav class="top-nav">
  <div class="nav-container central">
    <div class="nav-logo-row">
      <a href="index.html" class="logo-center">
        <img src="../img/logofull.png" alt="Tung Tung Savor Logo">
      </a>
      <a href="rol.html" class="profile-icon">üë§</a>
    </div>

    <ul class="menu-nav">
      <li><a href="index.html">Inicio</a></li>
      <li><a href="menu.html">Men√∫</a></li>
      <li><a href="pedido.html" class="activo">Pedido</a></li>
      <li><a href="reserva.html">Reservas</a></li>
    </ul>
  </div>
</nav>

<main>
  <h2 class="section-title">Formulario de Pedido</h2>

  <section class="formulario">
    <form>
      <article class="card">

        <label>Nombre del cliente</label>
        <input type="text" placeholder="Ingrese su nombre">

        <h3>Platos</h3>
        <div id="lista-platos"></div>

        <button type="button" onclick="agregarPlato()">‚ûï Agregar plato</button>
</br>
</br>
        <label>Precio total</label>
        <input type="text" id="precioTotal" value="$0" disabled>

        <label>Observaciones</label>
        <textarea placeholder="Ej: Sin cebolla, extra salsa..."></textarea>

        <button type="submit">Enviar Pedido</button>

      </article>
    </form>
  </section>
</main>

<footer>
  <p>¬© 2026 TungTung Savor</p>
</footer>

<script>
const precios = {
  "Hamburguesa Especial": 18000,
  "Pizza Pepperoni": 22000,
  "Ensalada C√©sar": 12000,
  "Brownie con Helado": 9000,
  "Arepitas de ma√≠z con hogao": 20000,
  "Filete de res en salsa de vino tinto": 50000,
  "Arroz con leche": 8000,
  "Postre de tres leches": 14000,
  "Patacones con guacamole y suero coste√±o": 25000
};

const listaPlatos = document.getElementById("lista-platos");
const precioTotal = document.getElementById("precioTotal");

function agregarPlato() {
  const div = document.createElement("div");
  div.className = "plato-item";

  div.innerHTML = `
    <select class="plato">
      <option value="">Seleccione un plato</option>
      ${Object.keys(precios).map(p => `<option value="${p}">${p}</option>`).join("")}
    </select>
    <input type="number" class="cantidad" min="1" placeholder="Cantidad">
    <button type="button" class="btn-eliminar" onclick="this.parentElement.remove(); calcularTotal()">‚ùå</button>
  `;

  listaPlatos.appendChild(div);

  div.querySelectorAll("select, input").forEach(el => {
    el.addEventListener("change", calcularTotal);
    el.addEventListener("input", calcularTotal);
  });
}

function calcularTotal() {
  let total = 0;
  document.querySelectorAll(".plato-item").forEach(item => {
    const plato = item.querySelector(".plato").value;
    const cantidad = parseInt(item.querySelector(".cantidad").value);
    if (plato && cantidad) total += precios[plato] * cantidad;
  });
  precioTotal.value = "$" + total.toLocaleString("es-CO");
}
</script>

</body>
</html>